@model IEnumerable<EpicCrmWebApi.EntityWorkFlowDetailModel>

<table class="table table-bordered table-striped table-condensed" id="dataTable">
    <tr id="dataTableHeader">
        <td colspan="2" id="downloadLinkArea">&nbsp;</td>
        <td colspan="21">@Model.Count() rows displayed.</td>
    </tr>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.EntityNumber)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.EntityName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.EmployeeCode)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.EmployeeName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TypeName)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.SeasonName)
        </th>

        <th>
            @Html.DisplayNameFor(model => model.Phase)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PlannedFromDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PlannedEndDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CompletedOn)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Status)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.HQCode)
        </th>

        <th>@Html.DisplayNameFor(model => model.IsStarted)</th>
        <th>@Html.DisplayNameFor(model => model.WorkFlowDate)</th>
        <th>@Html.DisplayNameFor(model => model.MaterialType)</th>
        <th>@Html.DisplayNameFor(model => model.MaterialQuantity)</th>
        <th>@Html.DisplayNameFor(model => model.GapFillingRequired)</th>
        <th>@Html.DisplayNameFor(model => model.GapFillingSeedQuantity)</th>
        <th>@Html.DisplayNameFor(model => model.LaborCount)</th>
        <th>@Html.DisplayNameFor(model => model.PercentCompleted)</th>
        <th>@Html.DisplayNameFor(model => model.Agreement)</th>
        <th>@Html.DisplayNameFor(model => model.AgreementStatus)</th>
        <th>@Html.DisplayNameFor(model => model.UniqueId)</th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.EntityNumber)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.EntityName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.EmployeeCode)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.EmployeeName)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.TypeName)
        </td>

        <td>
            @Html.DisplayFor(modelItem => item.SeasonName)
        </td>

        <td>
            @if (item.ActivityId > 0)
            {
                @Html.ActionLink(item.Phase, "ActivityOne", new { activityId = item.ActivityId }, new { @class = "c_activityLink", target = "_new" })
            }
            else
            {
                @Html.DisplayFor(modelItem => item.Phase)
            }
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PlannedFromDate, "DateTimeDate")
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PlannedEndDate, "DateTimeDate")
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CompletedOn, "NullableDateTimeDate")
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Status)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.HQCode)
        </td>

        @if(item.IsStarted)
        {
            <td>Yes</td>
        }
        else
        {
            <td>No</td>
        }

        @if (item.IsStarted)
        {
            <td>@Html.DisplayFor(modelItem => item.WorkFlowDate, "NullableDateTimeDate")</td>
        }
        else
        {
            <td>&nbsp;</td>
        }
        <td>@Html.DisplayFor(modelItem => item.MaterialType)</td>
        <td>@Html.DisplayFor(modelItem => item.MaterialQuantity)</td>

        @if (item.GapFillingRequired)
        {
            <td>Yes</td>
        }
        else
        {
            <td>No</td>
        }

        <td>@Html.DisplayFor(modelItem => item.GapFillingSeedQuantity)</td>
        <td>@Html.DisplayFor(modelItem => item.LaborCount)</td>
        <td>@Html.DisplayFor(modelItem => item.PercentCompleted)</td>
        <td>@Html.DisplayFor(modelItem => item.Agreement)</td>
        <td>@Html.DisplayFor(modelItem => item.AgreementStatus)</td>
        <td>@Html.DisplayFor(modelItem => item.UniqueId)</td>
    </tr>
}
</table>
